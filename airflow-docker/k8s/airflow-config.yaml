apiVersion: v1
kind: ConfigMap
metadata:
  name: airflow-config
data:
  airflow.cfg: |
    [core]
    dags_folder = /opt/airflow/dags
    executor = LocalExecutor
    load_examples = False

    [logging]
    base_log_folder = /opt/airflow/logs
    
    [database]
    sql_alchemy_conn = postgresql+psycopg2://airflow:airflow@postgres:5432/airflow
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: airflow-data-pvc
spec:
  accessModes:
    - ReadWriteMany
  resources:
    requests:
      storage: 1Gi